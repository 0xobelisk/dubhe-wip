{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 启动 Sui Indexer GraphQL 服务器...\u001b[39m","nodeVersion":"v18.20.4","pid":2924,"platform":"darwin","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"component":"system","databaseUrl":"postgres://postgres:****@127.0.0.1:5432/postgres","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m正在初始化数据库连接和扫描表结构...\u001b[39m","pid":2924,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接成功\u001b[39m","pid":2924,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m扫描表结构完成\u001b[39m","pid":2924,"service":"dubhe-graphql-server","storeTableCount":4,"tableCount":5,"tableNames":["store_accounts","store_encounter","store_map_config","store_position","table_fields"],"timestamp":"2025-06-01 23:32:44"}
{"availableTableCount":5,"component":"subscription","enableSubscriptions":"true","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m配置订阅管理器\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"component":"subscription","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建动态订阅插件\u001b[39m","pid":2924,"service":"dubhe-graphql-server","storeTables":4,"timestamp":"2025-06-01 23:32:44","totalTables":5}
{"component":"server","enableCors":"true","enableSubscriptions":"true","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建 PostGraphile 配置\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"component":"server","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m初始化服务器管理器\u001b[39m","pid":2924,"port":4000,"realtimePort":"4001","service":"dubhe-graphql-server","subscriptions":"true","timestamp":"2025-06-01 23:32:44"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m启动实时订阅服务器\u001b[39m","pid":2924,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时订阅服务器启动\u001b[39m","perMessageDeflate":false,"pid":2924,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时推送服务已启动！\u001b[39m","pid":2924,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44","webSocketUrl":"ws://localhost:4001"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 Sui Indexer GraphQL 服务器启动成功！\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器地址\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44","url":"http://localhost:4000"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL API\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44","url":"http://localhost:4000/graphql"}
{"component":"server","features":["现代化界面","Schema Explorer","代码导出"],"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m增强版 GraphQL Playground\u001b[39m","note":"旧路径 /graphiql 会自动重定向到 /playground","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44","url":"http://localhost:4000/playground"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mWebSocket 订阅\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44","url":"ws://localhost:4000/graphql"}
{"component":"server","cors":"启用","environment":"development","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器配置\u001b[39m","pid":2924,"schema":"public","service":"dubhe-graphql-server","storeTables":4,"subscriptions":"启用","systemTables":1,"timestamp":"2025-06-01 23:32:44","totalTables":5}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m💡 访问根路径查看详细信息和使用指南\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m按 Ctrl+C 停止服务器\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"component":"performance","duration":"89ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器启动 completed\u001b[39m","nodeEnv":"development","pid":2924,"port":4000,"service":"dubhe-graphql-server","tableCount":5,"timestamp":"2025-06-01 23:32:44"}
{"channel":"store:all","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"channel":"table:store_encounter:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"channel":"table_structure_changes","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 数据库结构变更监听已启动\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"channel":"table:store_accounts:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"channel":"table:store_position:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"channel":"table:store_map_config:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"channelsCount":5,"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ PostgreSQL 通知监听器设置完成\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:32:44"}
{"component":"performance","duration":"3ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:33:02"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m收到 SIGINT 信号，开始优雅关闭服务器...\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:35:42"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m⏹️  正在关闭服务器...\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:35:42"}
{"clientCount":0,"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🛑 关闭实时订阅服务器...\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:35:42"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPostgreSQL连接已释放\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:35:42"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接池已关闭\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:35:42"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ 实时订阅服务器已关闭\u001b[39m","pid":2924,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:35:42"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 启动 Sui Indexer GraphQL 服务器...\u001b[39m","nodeVersion":"v18.20.4","pid":6759,"platform":"darwin","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"component":"system","databaseUrl":"postgres://postgres:****@127.0.0.1:5432/postgres","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m正在初始化数据库连接和扫描表结构...\u001b[39m","pid":6759,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接成功\u001b[39m","pid":6759,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m扫描表结构完成\u001b[39m","pid":6759,"service":"dubhe-graphql-server","storeTableCount":4,"tableCount":5,"tableNames":["store_accounts","store_encounter","store_map_config","store_position","table_fields"],"timestamp":"2025-06-01 23:37:41"}
{"availableTableCount":5,"component":"subscription","enableSubscriptions":"true","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m配置订阅管理器\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"component":"subscription","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建动态订阅插件\u001b[39m","pid":6759,"service":"dubhe-graphql-server","storeTables":4,"timestamp":"2025-06-01 23:37:41","totalTables":5}
{"component":"server","enableCors":"true","enableSubscriptions":"true","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建 PostGraphile 配置\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"component":"server","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m初始化服务器管理器\u001b[39m","pid":6759,"port":4000,"realtimePort":"4001","service":"dubhe-graphql-server","subscriptions":"true","timestamp":"2025-06-01 23:37:41"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m启动实时订阅服务器\u001b[39m","pid":6759,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时订阅服务器启动\u001b[39m","perMessageDeflate":false,"pid":6759,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时推送服务已启动！\u001b[39m","pid":6759,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41","webSocketUrl":"ws://localhost:4001"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 Sui Indexer GraphQL 服务器启动成功！\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器地址\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41","url":"http://localhost:4000"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL API\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41","url":"http://localhost:4000/graphql"}
{"component":"server","features":["现代化界面","Schema Explorer","代码导出"],"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m增强版 GraphQL Playground\u001b[39m","note":"旧路径 /graphiql 会自动重定向到 /playground","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41","url":"http://localhost:4000/playground"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mWebSocket 订阅\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41","url":"ws://localhost:4000/graphql"}
{"component":"server","cors":"启用","environment":"development","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器配置\u001b[39m","pid":6759,"schema":"public","service":"dubhe-graphql-server","storeTables":4,"subscriptions":"启用","systemTables":1,"timestamp":"2025-06-01 23:37:41","totalTables":5}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m💡 访问根路径查看详细信息和使用指南\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m按 Ctrl+C 停止服务器\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"component":"performance","duration":"75ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器启动 completed\u001b[39m","nodeEnv":"development","pid":6759,"port":4000,"service":"dubhe-graphql-server","tableCount":5,"timestamp":"2025-06-01 23:37:41"}
{"channel":"table_structure_changes","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 数据库结构变更监听已启动\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"channel":"store:all","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"channel":"table:store_encounter:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"channel":"table:store_accounts:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"channel":"table:store_position:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"channel":"table:store_map_config:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"channelsCount":5,"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ PostgreSQL 通知监听器设置完成\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:37:41"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m收到 SIGINT 信号，开始优雅关闭服务器...\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:11"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m⏹️  正在关闭服务器...\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:11"}
{"clientCount":0,"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🛑 关闭实时订阅服务器...\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:11"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPostgreSQL连接已释放\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:11"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接池已关闭\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:11"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ 实时订阅服务器已关闭\u001b[39m","pid":6759,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:11"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 启动 Sui Indexer GraphQL 服务器...\u001b[39m","nodeVersion":"v18.20.4","pid":7328,"platform":"darwin","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"component":"system","databaseUrl":"postgres://postgres:****@127.0.0.1:5432/postgres","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m正在初始化数据库连接和扫描表结构...\u001b[39m","pid":7328,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接成功\u001b[39m","pid":7328,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m扫描表结构完成\u001b[39m","pid":7328,"service":"dubhe-graphql-server","storeTableCount":4,"tableCount":5,"tableNames":["store_accounts","store_encounter","store_map_config","store_position","table_fields"],"timestamp":"2025-06-01 23:38:14"}
{"availableTableCount":5,"component":"subscription","enableSubscriptions":"true","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m配置订阅管理器\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"component":"subscription","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建动态订阅插件\u001b[39m","pid":7328,"service":"dubhe-graphql-server","storeTables":4,"timestamp":"2025-06-01 23:38:14","totalTables":5}
{"component":"server","enableCors":"true","enableSubscriptions":"true","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建 PostGraphile 配置\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"component":"server","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m初始化服务器管理器\u001b[39m","pid":7328,"port":4000,"realtimePort":"4001","service":"dubhe-graphql-server","subscriptions":"true","timestamp":"2025-06-01 23:38:14"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m启动实时订阅服务器\u001b[39m","pid":7328,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时订阅服务器启动\u001b[39m","perMessageDeflate":false,"pid":7328,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时推送服务已启动！\u001b[39m","pid":7328,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14","webSocketUrl":"ws://localhost:4001"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 Sui Indexer GraphQL 服务器启动成功！\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器地址\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14","url":"http://localhost:4000"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL API\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14","url":"http://localhost:4000/graphql"}
{"component":"server","features":["现代化界面","Schema Explorer","代码导出"],"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m增强版 GraphQL Playground\u001b[39m","note":"旧路径 /graphiql 会自动重定向到 /playground","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14","url":"http://localhost:4000/playground"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mWebSocket 订阅\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14","url":"ws://localhost:4000/graphql"}
{"component":"server","cors":"启用","environment":"development","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器配置\u001b[39m","pid":7328,"schema":"public","service":"dubhe-graphql-server","storeTables":4,"subscriptions":"启用","systemTables":1,"timestamp":"2025-06-01 23:38:14","totalTables":5}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m💡 访问根路径查看详细信息和使用指南\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m按 Ctrl+C 停止服务器\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"component":"performance","duration":"65ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器启动 completed\u001b[39m","nodeEnv":"development","pid":7328,"port":4000,"service":"dubhe-graphql-server","tableCount":5,"timestamp":"2025-06-01 23:38:14"}
{"channel":"table_structure_changes","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 数据库结构变更监听已启动\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"channel":"store:all","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"channel":"table:store_encounter:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"channel":"table:store_accounts:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"channel":"table:store_position:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"channel":"table:store_map_config:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"channelsCount":5,"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ PostgreSQL 通知监听器设置完成\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:14"}
{"component":"performance","duration":"4ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:40"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:41"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:42"}
{"component":"performance","duration":"2ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:42"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:42"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:43"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:43"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:38:43"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m收到 SIGINT 信号，开始优雅关闭服务器...\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:00"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m⏹️  正在关闭服务器...\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:00"}
{"clientCount":0,"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🛑 关闭实时订阅服务器...\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:00"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPostgreSQL连接已释放\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:00"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接池已关闭\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:00"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ 实时订阅服务器已关闭\u001b[39m","pid":7328,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:00"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 启动 Sui Indexer GraphQL 服务器...\u001b[39m","nodeVersion":"v18.20.4","pid":8198,"platform":"darwin","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"component":"system","databaseUrl":"postgres://postgres:****@127.0.0.1:5432/postgres","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m正在初始化数据库连接和扫描表结构...\u001b[39m","pid":8198,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接成功\u001b[39m","pid":8198,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m扫描表结构完成\u001b[39m","pid":8198,"service":"dubhe-graphql-server","storeTableCount":4,"tableCount":5,"tableNames":["store_accounts","store_encounter","store_map_config","store_position","table_fields"],"timestamp":"2025-06-01 23:39:10"}
{"availableTableCount":5,"component":"subscription","enableSubscriptions":"true","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m配置订阅管理器\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"component":"subscription","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建动态订阅插件\u001b[39m","pid":8198,"service":"dubhe-graphql-server","storeTables":4,"timestamp":"2025-06-01 23:39:10","totalTables":5}
{"component":"server","enableCors":"true","enableSubscriptions":"true","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建 PostGraphile 配置\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"component":"server","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m初始化服务器管理器\u001b[39m","pid":8198,"port":4000,"realtimePort":"4001","service":"dubhe-graphql-server","subscriptions":"true","timestamp":"2025-06-01 23:39:10"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m启动实时订阅服务器\u001b[39m","pid":8198,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时订阅服务器启动\u001b[39m","perMessageDeflate":false,"pid":8198,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时推送服务已启动！\u001b[39m","pid":8198,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10","webSocketUrl":"ws://localhost:4001"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 Sui Indexer GraphQL 服务器启动成功！\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器地址\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10","url":"http://localhost:4000"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL API\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10","url":"http://localhost:4000/graphql"}
{"component":"server","features":["现代化界面","Schema Explorer","代码导出"],"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m增强版 GraphQL Playground\u001b[39m","note":"旧路径 /graphiql 会自动重定向到 /playground","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10","url":"http://localhost:4000/playground"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mWebSocket 订阅\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10","url":"ws://localhost:4000/graphql"}
{"component":"server","cors":"启用","environment":"development","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器配置\u001b[39m","pid":8198,"schema":"public","service":"dubhe-graphql-server","storeTables":4,"subscriptions":"启用","systemTables":1,"timestamp":"2025-06-01 23:39:10","totalTables":5}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m💡 访问根路径查看详细信息和使用指南\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m按 Ctrl+C 停止服务器\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"component":"performance","duration":"64ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器启动 completed\u001b[39m","nodeEnv":"development","pid":8198,"port":4000,"service":"dubhe-graphql-server","tableCount":5,"timestamp":"2025-06-01 23:39:10"}
{"channel":"table_structure_changes","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 数据库结构变更监听已启动\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"channel":"store:all","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"channel":"table:store_encounter:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"channel":"table:store_accounts:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"channel":"table:store_position:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"channel":"table:store_map_config:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"channelsCount":5,"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ PostgreSQL 通知监听器设置完成\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:10"}
{"component":"performance","duration":"3ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:13"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:15"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:15"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:16"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:16"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:16"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:17"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:17"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:17"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:18"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:18"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:18"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:18"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:18"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:18"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:19"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:19"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:19"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:19"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:19"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:19"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:19"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:19"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:20"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:20"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:20"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:20"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:20"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:20"}
{"component":"performance","duration":"2ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:20"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:20"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:20"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:21"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:21"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:21"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:21"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:21"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:21"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:21"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:21"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:22"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:22"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:22"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:22"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:22"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:22"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:22"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:22"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:23"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:23"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:23"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:23"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:23"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:23"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:23"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:23"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:24"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:24"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:24"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:24"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:24"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:24"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:24"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:25"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:25"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:39:25"}
{"component":"performance","duration":"7ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:42"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:43"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:43"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:43"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:43"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:43"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:44"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:44"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:44"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:44"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:44"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:44"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:44"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:44"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:45"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:45"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:45"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:45"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:45"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:45"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:45"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m收到 SIGINT 信号，开始优雅关闭服务器...\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:58"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m⏹️  正在关闭服务器...\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:58"}
{"clientCount":0,"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🛑 关闭实时订阅服务器...\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:58"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPostgreSQL连接已释放\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:58"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接池已关闭\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:58"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ 实时订阅服务器已关闭\u001b[39m","pid":8198,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:40:58"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 启动 Sui Indexer GraphQL 服务器...\u001b[39m","nodeVersion":"v18.20.4","pid":10725,"platform":"darwin","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"component":"system","databaseUrl":"postgres://postgres:****@127.0.0.1:5432/postgres","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m正在初始化数据库连接和扫描表结构...\u001b[39m","pid":10725,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接成功\u001b[39m","pid":10725,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m扫描表结构完成\u001b[39m","pid":10725,"service":"dubhe-graphql-server","storeTableCount":4,"tableCount":5,"tableNames":["store_accounts","store_encounter","store_map_config","store_position","table_fields"],"timestamp":"2025-06-01 23:41:25"}
{"availableTableCount":5,"component":"subscription","enableSubscriptions":"true","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m配置订阅管理器\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"component":"subscription","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建动态订阅插件\u001b[39m","pid":10725,"service":"dubhe-graphql-server","storeTables":4,"timestamp":"2025-06-01 23:41:25","totalTables":5}
{"component":"server","enableCors":"true","enableSubscriptions":"true","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建 PostGraphile 配置\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"component":"server","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m初始化服务器管理器\u001b[39m","pid":10725,"port":4000,"realtimePort":"4001","service":"dubhe-graphql-server","subscriptions":"true","timestamp":"2025-06-01 23:41:25"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m启动实时订阅服务器\u001b[39m","pid":10725,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时订阅服务器启动\u001b[39m","perMessageDeflate":false,"pid":10725,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时推送服务已启动！\u001b[39m","pid":10725,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25","webSocketUrl":"ws://localhost:4001"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 Sui Indexer GraphQL 服务器启动成功！\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器地址\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25","url":"http://localhost:4000"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL API\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25","url":"http://localhost:4000/graphql"}
{"component":"server","features":["现代化界面","Schema Explorer","代码导出"],"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m增强版 GraphQL Playground\u001b[39m","note":"旧路径 /graphiql 会自动重定向到 /playground","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25","url":"http://localhost:4000/playground"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mWebSocket 订阅\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25","url":"ws://localhost:4000/graphql"}
{"component":"server","cors":"启用","environment":"development","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器配置\u001b[39m","pid":10725,"schema":"public","service":"dubhe-graphql-server","storeTables":4,"subscriptions":"启用","systemTables":1,"timestamp":"2025-06-01 23:41:25","totalTables":5}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m💡 访问根路径查看详细信息和使用指南\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m按 Ctrl+C 停止服务器\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"component":"performance","duration":"96ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器启动 completed\u001b[39m","nodeEnv":"development","pid":10725,"port":4000,"service":"dubhe-graphql-server","tableCount":5,"timestamp":"2025-06-01 23:41:25"}
{"channel":"store:all","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"channel":"table_structure_changes","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 数据库结构变更监听已启动\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"channel":"table:store_encounter:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"channel":"table:store_accounts:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"channel":"table:store_position:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"channel":"table:store_map_config:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"channelsCount":5,"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ PostgreSQL 通知监听器设置完成\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:41:25"}
{"component":"performance","contentType":"text/html","duration":"13ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":10725,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-01 23:47:41"}
{"component":"performance","duration":"2ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:43"}
{"component":"server","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m404 - 路径未找到\u001b[39m","method":"GET","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:43","url":"/favicon.ico","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m收到 SIGINT 信号，开始优雅关闭服务器...\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:45"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m⏹️  正在关闭服务器...\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:45"}
{"clientCount":0,"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🛑 关闭实时订阅服务器...\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:45"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPostgreSQL连接已释放\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:45"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接池已关闭\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:45"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ 实时订阅服务器已关闭\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:45"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m收到 SIGINT 信号，开始优雅关闭服务器...\u001b[39m","pid":10725,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:45"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 启动 Sui Indexer GraphQL 服务器...\u001b[39m","nodeVersion":"v18.20.4","pid":16216,"platform":"darwin","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"component":"system","databaseUrl":"postgres://postgres:****@127.0.0.1:5432/postgres","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m正在初始化数据库连接和扫描表结构...\u001b[39m","pid":16216,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接成功\u001b[39m","pid":16216,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m扫描表结构完成\u001b[39m","pid":16216,"service":"dubhe-graphql-server","storeTableCount":4,"tableCount":5,"tableNames":["store_accounts","store_encounter","store_map_config","store_position","table_fields"],"timestamp":"2025-06-01 23:47:49"}
{"availableTableCount":5,"component":"subscription","enableSubscriptions":"true","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m配置订阅管理器\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"component":"subscription","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建动态订阅插件\u001b[39m","pid":16216,"service":"dubhe-graphql-server","storeTables":4,"timestamp":"2025-06-01 23:47:49","totalTables":5}
{"component":"server","enableCors":"true","enableSubscriptions":"true","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建 PostGraphile 配置\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"component":"server","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m初始化服务器管理器\u001b[39m","pid":16216,"port":4000,"realtimePort":"4001","service":"dubhe-graphql-server","subscriptions":"true","timestamp":"2025-06-01 23:47:49"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m启动实时订阅服务器\u001b[39m","pid":16216,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时订阅服务器启动\u001b[39m","perMessageDeflate":false,"pid":16216,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时推送服务已启动！\u001b[39m","pid":16216,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49","webSocketUrl":"ws://localhost:4001"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 Sui Indexer GraphQL 服务器启动成功！\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器地址\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49","url":"http://localhost:4000"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL API\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49","url":"http://localhost:4000/graphql"}
{"component":"server","features":["现代化界面","Schema Explorer","代码导出"],"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m增强版 GraphQL Playground\u001b[39m","note":"旧路径 /graphiql 会自动重定向到 /playground","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49","url":"http://localhost:4000/playground"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mWebSocket 订阅\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49","url":"ws://localhost:4000/graphql"}
{"component":"server","cors":"启用","environment":"development","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器配置\u001b[39m","pid":16216,"schema":"public","service":"dubhe-graphql-server","storeTables":4,"subscriptions":"启用","systemTables":1,"timestamp":"2025-06-01 23:47:49","totalTables":5}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m💡 访问根路径查看详细信息和使用指南\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m按 Ctrl+C 停止服务器\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"component":"performance","duration":"78ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器启动 completed\u001b[39m","nodeEnv":"development","pid":16216,"port":4000,"service":"dubhe-graphql-server","tableCount":5,"timestamp":"2025-06-01 23:47:49"}
{"channel":"store:all","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"channel":"table_structure_changes","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 数据库结构变更监听已启动\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"channel":"table:store_encounter:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"channel":"table:store_accounts:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"channel":"table:store_position:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"channel":"table:store_map_config:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"channelsCount":5,"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ PostgreSQL 通知监听器设置完成\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:47:49"}
{"component":"performance","duration":"2ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:00"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:00"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:01"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:01"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:01"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:02"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:02"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:02"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:03"}
{"component":"performance","contentType":"text/html","duration":"4ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":16216,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-01 23:48:13"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:14"}
{"component":"server","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m404 - 路径未找到\u001b[39m","method":"GET","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:14","url":"/favicon.ico","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap"}
{"component":"performance","contentType":"text/html","duration":"1ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":16216,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-01 23:48:29"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:30"}
{"component":"server","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m404 - 路径未找到\u001b[39m","method":"GET","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:30","url":"/favicon.ico","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m收到 SIGINT 信号，开始优雅关闭服务器...\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:56"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m⏹️  正在关闭服务器...\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:56"}
{"clientCount":0,"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🛑 关闭实时订阅服务器...\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:56"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPostgreSQL连接已释放\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:56"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接池已关闭\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:56"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ 实时订阅服务器已关闭\u001b[39m","pid":16216,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:48:56"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 启动 Sui Indexer GraphQL 服务器...\u001b[39m","nodeVersion":"v18.20.4","pid":17190,"platform":"darwin","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"component":"system","databaseUrl":"postgres://postgres:****@127.0.0.1:5432/postgres","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m正在初始化数据库连接和扫描表结构...\u001b[39m","pid":17190,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接成功\u001b[39m","pid":17190,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m扫描表结构完成\u001b[39m","pid":17190,"service":"dubhe-graphql-server","storeTableCount":4,"tableCount":5,"tableNames":["store_accounts","store_encounter","store_map_config","store_position","table_fields"],"timestamp":"2025-06-01 23:49:00"}
{"availableTableCount":5,"component":"subscription","enableSubscriptions":"true","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m配置订阅管理器\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"component":"subscription","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建动态订阅插件\u001b[39m","pid":17190,"service":"dubhe-graphql-server","storeTables":4,"timestamp":"2025-06-01 23:49:00","totalTables":5}
{"component":"server","enableCors":"true","enableSubscriptions":"true","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建 PostGraphile 配置\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"component":"server","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m初始化服务器管理器\u001b[39m","pid":17190,"port":4000,"realtimePort":"4001","service":"dubhe-graphql-server","subscriptions":"true","timestamp":"2025-06-01 23:49:00"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m启动实时订阅服务器\u001b[39m","pid":17190,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时订阅服务器启动\u001b[39m","perMessageDeflate":false,"pid":17190,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时推送服务已启动！\u001b[39m","pid":17190,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00","webSocketUrl":"ws://localhost:4001"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 Sui Indexer GraphQL 服务器启动成功！\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器地址\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00","url":"http://localhost:4000"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL API\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00","url":"http://localhost:4000/graphql"}
{"component":"server","features":["现代化界面","Schema Explorer","代码导出"],"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m增强版 GraphQL Playground\u001b[39m","note":"旧路径 /graphiql 会自动重定向到 /playground","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00","url":"http://localhost:4000/playground"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mWebSocket 订阅\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00","url":"ws://localhost:4000/graphql"}
{"component":"server","cors":"启用","environment":"development","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器配置\u001b[39m","pid":17190,"schema":"public","service":"dubhe-graphql-server","storeTables":4,"subscriptions":"启用","systemTables":1,"timestamp":"2025-06-01 23:49:00","totalTables":5}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m💡 访问根路径查看详细信息和使用指南\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m按 Ctrl+C 停止服务器\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"component":"performance","duration":"91ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器启动 completed\u001b[39m","nodeEnv":"development","pid":17190,"port":4000,"service":"dubhe-graphql-server","tableCount":5,"timestamp":"2025-06-01 23:49:00"}
{"channel":"store:all","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"channel":"table_structure_changes","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 数据库结构变更监听已启动\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"channel":"table:store_encounter:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"channel":"table:store_accounts:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"channel":"table:store_position:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"channel":"table:store_map_config:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"channelsCount":5,"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ PostgreSQL 通知监听器设置完成\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:00"}
{"component":"performance","contentType":"text/html","duration":"1ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":17190,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-01 23:49:00"}
{"component":"performance","duration":"4ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:01"}
{"component":"server","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m404 - 路径未找到\u001b[39m","method":"GET","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:01","url":"/favicon.ico","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap"}
{"component":"performance","contentType":"text/html","duration":"1ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":17190,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-01 23:49:02"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:03"}
{"component":"server","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m404 - 路径未找到\u001b[39m","method":"GET","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-01 23:49:03","url":"/favicon.ico","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m收到 SIGINT 信号，开始优雅关闭服务器...\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:03"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m⏹️  正在关闭服务器...\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:03"}
{"clientCount":0,"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🛑 关闭实时订阅服务器...\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:03"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPostgreSQL连接已释放\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:03"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接池已关闭\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:03"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ 实时订阅服务器已关闭\u001b[39m","pid":17190,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:03"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 启动 Sui Indexer GraphQL 服务器...\u001b[39m","nodeVersion":"v18.20.4","pid":11166,"platform":"darwin","service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"component":"system","databaseUrl":"postgres://postgres:****@127.0.0.1:5432/postgres","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m正在初始化数据库连接和扫描表结构...\u001b[39m","pid":11166,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接成功\u001b[39m","pid":11166,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m扫描表结构完成\u001b[39m","pid":11166,"service":"dubhe-graphql-server","storeTableCount":4,"tableCount":5,"tableNames":["store_accounts","store_encounter","store_map_config","store_position","table_fields"],"timestamp":"2025-06-02 11:19:06"}
{"availableTableCount":5,"component":"subscription","enableSubscriptions":"true","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m配置订阅管理器\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"component":"subscription","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建动态订阅插件\u001b[39m","pid":11166,"service":"dubhe-graphql-server","storeTables":4,"timestamp":"2025-06-02 11:19:06","totalTables":5}
{"component":"server","enableCors":"true","enableSubscriptions":"true","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建 PostGraphile 配置\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"component":"server","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m初始化服务器管理器\u001b[39m","pid":11166,"port":4000,"realtimePort":"4001","service":"dubhe-graphql-server","subscriptions":"true","timestamp":"2025-06-02 11:19:06"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m启动实时订阅服务器\u001b[39m","pid":11166,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时订阅服务器启动\u001b[39m","perMessageDeflate":false,"pid":11166,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时推送服务已启动！\u001b[39m","pid":11166,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06","webSocketUrl":"ws://localhost:4001"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 Sui Indexer GraphQL 服务器启动成功！\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器地址\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06","url":"http://localhost:4000"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL API\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06","url":"http://localhost:4000/graphql"}
{"component":"server","features":["现代化界面","Schema Explorer","代码导出"],"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m增强版 GraphQL Playground\u001b[39m","note":"旧路径 /graphiql 会自动重定向到 /playground","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06","url":"http://localhost:4000/playground"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mWebSocket 订阅\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06","url":"ws://localhost:4000/graphql"}
{"component":"server","cors":"启用","environment":"development","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器配置\u001b[39m","pid":11166,"schema":"public","service":"dubhe-graphql-server","storeTables":4,"subscriptions":"启用","systemTables":1,"timestamp":"2025-06-02 11:19:06","totalTables":5}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m💡 访问根路径查看详细信息和使用指南\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m按 Ctrl+C 停止服务器\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"component":"performance","duration":"115ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器启动 completed\u001b[39m","nodeEnv":"development","pid":11166,"port":4000,"service":"dubhe-graphql-server","tableCount":5,"timestamp":"2025-06-02 11:19:06"}
{"channel":"table_structure_changes","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 数据库结构变更监听已启动\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"channel":"store:all","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"channel":"table:store_encounter:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"channel":"table:store_accounts:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"channel":"table:store_position:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"channel":"table:store_map_config:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"channelsCount":5,"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ PostgreSQL 通知监听器设置完成\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:06"}
{"component":"performance","contentType":"text/html","duration":"4ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":11166,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-02 11:19:08"}
{"component":"performance","duration":"3ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:10"}
{"component":"performance","contentType":"text/html","duration":"2ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":11166,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-02 11:19:12"}
{"component":"performance","duration":"13ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:13"}
{"component":"server","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m404 - 路径未找到\u001b[39m","method":"GET","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:13","url":"/favicon.ico","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap"}
{"component":"performance","contentType":"text/html","duration":"6ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET / completed\u001b[39m","pid":11166,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-02 11:19:25"}
{"component":"performance","contentType":"text/html","duration":"0ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":11166,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-02 11:19:28"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:29"}
{"component":"performance","contentType":"text/html","duration":"1ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":11166,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-02 11:19:30"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:31"}
{"component":"server","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m404 - 路径未找到\u001b[39m","method":"GET","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:31","url":"/favicon.ico","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap"}
{"component":"performance","contentType":"text/html","duration":"1ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":11166,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-02 11:19:36"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:37"}
{"component":"server","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m404 - 路径未找到\u001b[39m","method":"GET","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:37","url":"/favicon.ico","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m收到 SIGINT 信号，开始优雅关闭服务器...\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:40"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m⏹️  正在关闭服务器...\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:40"}
{"clientCount":0,"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🛑 关闭实时订阅服务器...\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:40"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPostgreSQL连接已释放\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:40"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接池已关闭\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:40"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ 实时订阅服务器已关闭\u001b[39m","pid":11166,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:40"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 启动 Sui Indexer GraphQL 服务器...\u001b[39m","nodeVersion":"v18.20.4","pid":12075,"platform":"darwin","service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"component":"system","databaseUrl":"postgres://postgres:****@127.0.0.1:5432/postgres","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m正在初始化数据库连接和扫描表结构...\u001b[39m","pid":12075,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接成功\u001b[39m","pid":12075,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m扫描表结构完成\u001b[39m","pid":12075,"service":"dubhe-graphql-server","storeTableCount":4,"tableCount":5,"tableNames":["store_accounts","store_encounter","store_map_config","store_position","table_fields"],"timestamp":"2025-06-02 11:19:55"}
{"availableTableCount":5,"component":"subscription","enableSubscriptions":"true","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m配置订阅管理器\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"component":"subscription","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建动态订阅插件\u001b[39m","pid":12075,"service":"dubhe-graphql-server","storeTables":4,"timestamp":"2025-06-02 11:19:55","totalTables":5}
{"component":"server","enableCors":"true","enableSubscriptions":"true","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建 PostGraphile 配置\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"component":"server","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m初始化服务器管理器\u001b[39m","pid":12075,"port":4000,"realtimePort":"4001","service":"dubhe-graphql-server","subscriptions":"true","timestamp":"2025-06-02 11:19:55"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m启动实时订阅服务器\u001b[39m","pid":12075,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时订阅服务器启动\u001b[39m","perMessageDeflate":false,"pid":12075,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时推送服务已启动！\u001b[39m","pid":12075,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55","webSocketUrl":"ws://localhost:4001"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 Sui Indexer GraphQL 服务器启动成功！\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器地址\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55","url":"http://localhost:4000"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL API\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55","url":"http://localhost:4000/graphql"}
{"component":"server","features":["现代化界面","Schema Explorer","代码导出"],"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m增强版 GraphQL Playground\u001b[39m","note":"旧路径 /graphiql 会自动重定向到 /playground","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55","url":"http://localhost:4000/playground"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mWebSocket 订阅\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55","url":"ws://localhost:4000/graphql"}
{"component":"server","cors":"启用","environment":"development","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器配置\u001b[39m","pid":12075,"schema":"public","service":"dubhe-graphql-server","storeTables":4,"subscriptions":"启用","systemTables":1,"timestamp":"2025-06-02 11:19:55","totalTables":5}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m💡 访问根路径查看详细信息和使用指南\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m按 Ctrl+C 停止服务器\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"component":"performance","duration":"100ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器启动 completed\u001b[39m","nodeEnv":"development","pid":12075,"port":4000,"service":"dubhe-graphql-server","tableCount":5,"timestamp":"2025-06-02 11:19:55"}
{"channel":"store:all","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"channel":"table_structure_changes","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 数据库结构变更监听已启动\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"channel":"table:store_encounter:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"channel":"table:store_accounts:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"channel":"table:store_position:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"channel":"table:store_map_config:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"channelsCount":5,"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ PostgreSQL 通知监听器设置完成\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:55"}
{"component":"performance","contentType":"text/html","duration":"3ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":12075,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-02 11:19:56"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:56"}
{"component":"performance","contentType":"text/html","duration":"1ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":12075,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-02 11:19:58"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:58"}
{"component":"performance","contentType":"text/html","duration":"2ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":12075,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-02 11:19:59"}
{"component":"performance","duration":"0ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:19:59"}
{"component":"performance","contentType":"text/html","duration":"1ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":12075,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-02 11:19:59"}
{"component":"performance","duration":"1ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:20:00"}
{"component":"server","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m404 - 路径未找到\u001b[39m","method":"GET","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:20:00","url":"/favicon.ico","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m收到 SIGINT 信号，开始优雅关闭服务器...\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:25"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m⏹️  正在关闭服务器...\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:25"}
{"clientCount":0,"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🛑 关闭实时订阅服务器...\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:25"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mPostgreSQL连接已释放\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:25"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接池已关闭\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:25"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ 实时订阅服务器已关闭\u001b[39m","pid":12075,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:25"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 启动 Sui Indexer GraphQL 服务器...\u001b[39m","nodeVersion":"v18.20.4","pid":38521,"platform":"darwin","service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:28"}
{"component":"system","databaseUrl":"postgres://postgres:****@127.0.0.1:5432/postgres","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m正在初始化数据库连接和扫描表结构...\u001b[39m","pid":38521,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:28"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m数据库连接成功\u001b[39m","pid":38521,"schema":"public","service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m扫描表结构完成\u001b[39m","pid":38521,"service":"dubhe-graphql-server","storeTableCount":4,"tableCount":5,"tableNames":["store_accounts","store_encounter","store_map_config","store_position","table_fields"],"timestamp":"2025-06-02 11:45:29"}
{"availableTableCount":5,"component":"subscription","enableSubscriptions":"true","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m配置订阅管理器\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"component":"subscription","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建动态订阅插件\u001b[39m","pid":38521,"service":"dubhe-graphql-server","storeTables":4,"timestamp":"2025-06-02 11:45:29","totalTables":5}
{"component":"server","enableCors":"true","enableSubscriptions":"true","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m创建 PostGraphile 配置\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"component":"server","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m初始化服务器管理器\u001b[39m","pid":38521,"port":4000,"realtimePort":"4001","service":"dubhe-graphql-server","subscriptions":"true","timestamp":"2025-06-02 11:45:29"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m启动实时订阅服务器\u001b[39m","pid":38521,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时订阅服务器启动\u001b[39m","perMessageDeflate":false,"pid":38521,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"component":"websocket","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🔥 实时推送服务已启动！\u001b[39m","pid":38521,"port":4001,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29","webSocketUrl":"ws://localhost:4001"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m🚀 Sui Indexer GraphQL 服务器启动成功！\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器地址\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29","url":"http://localhost:4000"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL API\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29","url":"http://localhost:4000/graphql"}
{"component":"server","features":["现代化界面","Schema Explorer","代码导出"],"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m增强版 GraphQL Playground\u001b[39m","note":"旧路径 /graphiql 会自动重定向到 /playground","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29","url":"http://localhost:4000/playground"}
{"component":"server","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mWebSocket 订阅\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29","url":"ws://localhost:4000/graphql"}
{"component":"server","cors":"启用","environment":"development","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器配置\u001b[39m","pid":38521,"schema":"public","service":"dubhe-graphql-server","storeTables":4,"subscriptions":"启用","systemTables":1,"timestamp":"2025-06-02 11:45:29","totalTables":5}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m💡 访问根路径查看详细信息和使用指南\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"component":"system","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m按 Ctrl+C 停止服务器\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"component":"performance","duration":"83ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m服务器启动 completed\u001b[39m","nodeEnv":"development","pid":38521,"port":4000,"service":"dubhe-graphql-server","tableCount":5,"timestamp":"2025-06-02 11:45:29"}
{"channel":"table_structure_changes","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 数据库结构变更监听已启动\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"channel":"store:all","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"channel":"table:store_encounter:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"channel":"table:store_accounts:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"channel":"table:store_position:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"channel":"table:store_map_config:change","component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m👂 监听通道\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"channelsCount":5,"component":"database","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m✅ PostgreSQL 通知监听器设置完成\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:29"}
{"component":"performance","contentType":"text/html","duration":"3ms","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mHTTP GET /playground completed\u001b[39m","pid":38521,"service":"dubhe-graphql-server","statusCode":200,"timestamp":"2025-06-02 11:45:29"}
{"component":"performance","duration":"2ms","endpoint":"/graphql","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mGraphQL POST completed\u001b[39m","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:30"}
{"component":"server","level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33m404 - 路径未找到\u001b[39m","method":"GET","pid":38521,"service":"dubhe-graphql-server","timestamp":"2025-06-02 11:45:30","url":"/favicon.ico","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Ap"}
